<!doctype html>
  <html lang="en" class="login">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="robots" content="index, follow">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="language" content="English">
    <title>Ant Media | Video Call</title>
    <meta name="description" content="Ant Media Video Call">
    <meta name="author" content="Ant Media">
    <meta name="title" content="Ant Media | Video Call">
    <meta property="og:locale" content="en_US">
    <meta property="og:type" content="website">
    <meta property="og:title" content="Ant Media | Video Call">
    <meta property="og:description" content="Ant Media Video Call">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="css/external/bootstrap4/bootstrap.min.css">
    <!-- Animate CSS -->
    <link rel="stylesheet" href="css/external/animate.css">
    <!-- Customize CSS -->
    <link rel="stylesheet" href="css/style.css">
    <!-- Favicon -->
    <link rel="shortcut icon" href="images/favicon.ico" type="image/x-icon">
    <link rel="icon" href="images/favicon.ico" type="image/x-icon">

  </head>

  <body onload="generateRandom()" class="animate__animated animate__fadeIn animate__fast">

    <div class="container h-100">
      <div class="row h-100 justify-content-center align-items-center">
        <form class="col-md-auto col-md-6">
          <div class="logo"><img src="images/ant-media-logo.svg"></div>
          <div class="logo-text">CONFERENCE CALL</div>
          <p>Start a video conference call now with Ant Media!</p>
          <div class="form-group">
            <label for="formGroupExampleInput">Your Name</label>
            <input type="text" class="form-control" id="streamNameInput" value="Guest">
          </div>
          <a id="enterButton"  href="" class="btn btn-primary">Login</a>
        </form>   
      </div>
    </div>

  </div>

  <script src="js/external/jquery-3.3.1.slim.min.js"></script>
  <script src="js/external/popper.min.js"></script>
  <script src="js/external/bootstrap.min.js"></script>

</body>

<script type="text/javascript">

  var getUrlParameter = function getUrlParameter(sParam) {
    var sPageURL = decodeURIComponent(window.location.search.substring(1)),
    sURLVariables = sPageURL.split('&'),
    sParameterName,
    i;

    for (i = 0; i < sURLVariables.length; i++) {
      sParameterName = sURLVariables[i].split('=');

      if (sParameterName[0] === sParam) {
        return sParameterName[1] === undefined ? true : sParameterName[1];
      }
    }
  }

  var roomName =  getUrlParameter('roomName');

  if(roomName == null){
    roomName = "room1";
  }

  var streamName = document.getElementById("streamNameInput");

  streamName.addEventListener('input', e => { 
    var url = "conference-room.html?roomName="+roomName+"&streamName="+streamName.value;
    document.getElementById('enterButton').href = url;
  });

  function generateRandom(){
    streamName.value = "Guest"+ Math.floor(Math.random() * 100000)
    var url = "conference-room.html?roomName="+roomName+"&streamName="+streamName.value;
    document.getElementById('enterButton').href = url;
  }

  var url = "conference-room.html?roomName="+roomName+"&streamName="+streamName.value;
  document.getElementById('enterButton').href = url;

</script>

</html>